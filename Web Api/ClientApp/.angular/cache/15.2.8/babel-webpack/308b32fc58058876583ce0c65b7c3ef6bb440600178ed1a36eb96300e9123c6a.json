{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"angular-datatables\";\nfunction HomeComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h4\", 4);\n    i0.ɵɵtext(2, \"Delete Confirmation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_template_5_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const modal_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r2.dismiss(\"cancel\"));\n    });\n    i0.ɵɵelementStart(4, \"span\", 6);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 7)(7, \"p\");\n    i0.ɵɵtext(8, \"Are you sure you want to delete?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 8)(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_template_5_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const modal_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r2.dismiss(\"cancel\"));\n    });\n    i0.ɵɵtext(11, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function HomeComponent_ng_template_5_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const modal_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r2.close(\"delete\"));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function () {\n  return [\"/pages/add\"];\n};\nexport class HomeComponent {\n  constructor(http, _router, modalService) {\n    this.http = http;\n    this._router = _router;\n    this.modalService = modalService;\n    this.dtOptions = {};\n  }\n  ngOnInit() {\n    this.fetchData();\n  }\n  fetchData() {\n    this.dtOptions = {\n      processing: true,\n      serverSide: true,\n      paging: true,\n      searching: true,\n      ordering: true,\n      ajax: (dataTablesParameters, callback) => {\n        this.http.post('https://localhost:7149/api/Employee/all-Employees', dataTablesParameters).subscribe(Response => {\n          callback({\n            recordsTotal: Response.recordsTotal,\n            recordsFiltered: Response.recordsFiltered,\n            data: Response.data\n          });\n        });\n      },\n      columns: [{\n        title: 'Id',\n        data: 'id',\n        visible: false\n      }, {\n        title: 'Name',\n        data: 'name'\n      }, {\n        title: 'DepId',\n        data: 'depId',\n        visible: false\n      }, {\n        title: 'Cnic',\n        data: 'cnic'\n      }, {\n        title: 'Age',\n        data: 'age'\n      }, {\n        title: 'Salary',\n        data: 'salary'\n      }, {\n        title: 'Actions',\n        data: null,\n        render: function () {\n          return '<button class = \"btn btn-info edit\">Edit</button>       <button class = \"btn btn-danger delete\">Delete</button>';\n        }\n      }],\n      columnDefs: [{\n        targets: [1],\n        orderable: true,\n        searchable: true\n      }, {\n        targets: '_all',\n        orderable: false,\n        searchable: false\n      }],\n      rowCallback: (row, data, index) => {\n        const self = this;\n        $('.edit', row).off('click');\n        $('.edit', row).on('click', () => {\n          this._router.navigate(['pages/edit'], {\n            queryParams: {\n              id: data.id\n            }\n          });\n        });\n        $('.delete', row).off('click');\n        $('.delete', row).on('click', () => {\n          const modalContent = $('#deleteConfirmationModal');\n          this.openDeleteConfirmationModal(modalContent);\n        });\n        return row;\n      }\n    };\n  }\n  openDeleteConfirmationModal(content) {\n    this.modalService.open(content, {\n      centered: true\n    }).result.then(result => {\n      if (result === 'delete') {\n        // Perform the delete operation here\n        //this.deleteItem(data.id);\n      }\n    }, reason => {\n      // Modal dismissed without confirming delete\n    });\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.NgbModal));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 7,\n  vars: 3,\n  consts: [[1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"id\", \"myTable\", \"datatable\", \"\", 1, \"table\", \"table-bordered\", 3, \"dtOptions\"], [\"deleteConfirmationModal\", \"\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵtext(1, \"Add Employee\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"br\")(3, \"br\")(4, \"table\", 1);\n      i0.ɵɵtemplate(5, HomeComponent_ng_template_5_Template, 14, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"dtOptions\", ctx.dtOptions);\n    }\n  },\n  dependencies: [i2.RouterLink, i4.DataTableDirective],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","HomeComponent","constructor","http","_router","modalService","ngOnInit","fetchData","dtOptions","processing","serverSide","paging","searching","ordering","ajax","dataTablesParameters","callback","post","subscribe","Response","recordsTotal","recordsFiltered","data","columns","title","visible","render","columnDefs","targets","orderable","searchable","rowCallback","row","index","self","$","off","on","navigate","queryParams","id","modalContent","openDeleteConfirmationModal","content","open","centered","result","then","reason","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Ali Hamza\\source\\repos\\ClassLibrary2\\Web Api\\ClientApp\\src\\app\\pages\\home\\home.component.html","C:\\Users\\Ali Hamza\\source\\repos\\ClassLibrary2\\Web Api\\ClientApp\\src\\app\\pages\\home\\home.component.ts"],"sourcesContent":["<button class=\"btn btn-primary\"  [routerLink]=\"['/pages/add']\">Add Employee</button>\r\n<br>\r\n<br>\r\n\r\n<table id=\"myTable\" datatable [dtOptions]=\"dtOptions\"  class=\"table  table-bordered\"></table>\r\n<!-- Delete Confirmation Modal -->\r\n<ng-template #deleteConfirmationModal let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">Delete Confirmation</h4>\r\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('cancel')\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <p>Are you sure you want to delete?</p>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"modal.dismiss('cancel')\">Cancel</button>\r\n    <button type=\"button\" class=\"btn btn-danger\" (click)=\"modal.close('delete')\">Delete</button>\r\n  </div>\r\n</ng-template>\r\n\r\n\r\n  \r\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  constructor(private http: HttpClient, private _router: Router, private modalService: NgbModal) {}\r\n  dtOptions: DataTables.Settings = {};\r\n  ngOnInit(): void {\r\n    this.fetchData();\r\n  }\r\n  fetchData() {\r\n    this.dtOptions = {\r\n      processing: true,\r\n      serverSide: true,\r\n      paging: true,\r\n      searching: true,\r\n      ordering: true,\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n        this.http\r\n          .post(\r\n            'https://localhost:7149/api/Employee/all-Employees',\r\n            dataTablesParameters\r\n          )\r\n          .subscribe((Response: any) => {\r\n            callback({\r\n              recordsTotal: Response.recordsTotal,\r\n              recordsFiltered: Response.recordsFiltered,\r\n              data: Response.data,\r\n            });\r\n          });\r\n      },\r\n      columns: [\r\n        { title: 'Id', data: 'id', visible: false },\r\n        { title: 'Name', data: 'name' },\r\n        { title: 'DepId', data: 'depId', visible: false },\r\n        { title: 'Cnic', data: 'cnic' },\r\n        { title: 'Age', data: 'age' },\r\n        { title: 'Salary', data: 'salary' },\r\n        { title:'Actions',\r\n          data: null,\r\n          render:function () {\r\n            return '<button class = \"btn btn-info edit\">Edit</button>       <button class = \"btn btn-danger delete\">Delete</button>'\r\n          },\r\n        },\r\n      ],\r\n      columnDefs: [\r\n        {\r\n          targets: [1],\r\n          orderable: true,\r\n          searchable: true,\r\n        },\r\n        {\r\n          targets: '_all',\r\n          orderable: false,\r\n          searchable: false,\r\n        },\r\n      ],\r\n      rowCallback: (row: Node, data: any, index: number) => {\r\n        const self = this;\r\n        $('.edit', row).off('click');\r\n        $('.edit', row).on('click', () => {\r\n          \r\n          this._router.navigate(['pages/edit'], { queryParams: { id: data.id } });\r\n        });\r\n        $('.delete', row).off('click');\r\n        $('.delete', row).on('click', () => {\r\n          const modalContent = $('#deleteConfirmationModal');\r\n          this.openDeleteConfirmationModal(modalContent);\r\n    \r\n          \r\n        });\r\n        return row;\r\n      }\r\n    };\r\n  };\r\n  openDeleteConfirmationModal(content: any): void {\r\n    this.modalService.open(content, { centered: true }).result.then(\r\n      result => {\r\n        if (result === 'delete') {\r\n          // Perform the delete operation here\r\n          //this.deleteItem(data.id);\r\n        }\r\n      },\r\n      reason => {\r\n        // Modal dismissed without confirming delete\r\n      }\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}