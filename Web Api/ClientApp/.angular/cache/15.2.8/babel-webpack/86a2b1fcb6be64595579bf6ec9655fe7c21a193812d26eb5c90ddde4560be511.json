{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"angular-datatables\";\nconst _c0 = function () {\n  return [\"/pages/add\"];\n};\nexport class HomeComponent {\n  constructor(http, _router) {\n    this.http = http;\n    this._router = _router;\n    this.dtOptions = {\n      createdRow: (row, data) => {\n        const editButton = row.querySelector('.edit-button');\n        const deleteButton = row.querySelector('.delete-button');\n        if (editButton) {\n          editButton.addEventListener('click', () => {\n            const id = editButton.getAttribute('data-id');\n            // Handle edit logic here, e.g., navigate to edit route\n            this._router.navigate(['/pages/edit', id]);\n          });\n        }\n        if (deleteButton) {\n          deleteButton.addEventListener('click', () => {\n            const id = deleteButton.getAttribute('data-id');\n            // Handle delete logic here, e.g., navigate to delete route\n            window.location.href = '/pages/delete/' + id;\n          });\n        }\n      }\n    };\n  }\n  ngOnInit() {\n    this.fetchData();\n  }\n  fetchData() {\n    this.dtOptions = {\n      processing: true,\n      serverSide: true,\n      paging: true,\n      searching: true,\n      ordering: true,\n      ajax: (dataTablesParameters, callback) => {\n        this.http.post('https://localhost:7149/api/Employee/all-Employees', dataTablesParameters).subscribe(Response => {\n          callback({\n            recordsTotal: Response.recordsTotal,\n            recordsFiltered: Response.recordsFiltered,\n            data: Response.data\n          });\n        });\n      },\n      columns: [{\n        title: 'Id',\n        data: 'id',\n        visible: false\n      }, {\n        title: 'Name',\n        data: 'name'\n      }, {\n        title: 'DepId',\n        data: 'depId',\n        visible: false\n      }, {\n        title: 'Cnic',\n        data: 'cnic'\n      }, {\n        title: 'Age',\n        data: 'age'\n      }, {\n        title: 'Salary',\n        data: 'salary'\n      }, {\n        data: null,\n        render: function (data) {\n          return `\n            <a class=\"btn btn-info edit-button\" data-id=\"${data.id}\">Edit</a>\n            <a class=\"btn btn-danger delete-button\" data-id=\"${data.id}\">Delete</a>\n          `;\n        }\n      }],\n      columnDefs: [{\n        targets: [1],\n        orderable: true,\n        searchable: true\n      }, {\n        targets: '_all',\n        orderable: false,\n        searchable: false\n      }]\n    };\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 22,\n  vars: 3,\n  consts: [[1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"id\", \"myTable\", \"datatable\", \"\", 1, \"table\", \"table-bordered\", 3, \"dtOptions\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵtext(1, \"Add Employee\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(2, \"br\")(3, \"br\");\n      i0.ɵɵelementStart(4, \"table\", 1)(5, \"thead\")(6, \"tr\")(7, \"th\");\n      i0.ɵɵtext(8, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\");\n      i0.ɵɵtext(12, \"DepId\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵtext(14, \"Cnic\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\");\n      i0.ɵɵtext(16, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\");\n      i0.ɵɵtext(18, \"Salary\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Actions\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(21, \"tbody\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"dtOptions\", ctx.dtOptions);\n    }\n  },\n  dependencies: [i2.RouterLink, i3.DataTableDirective],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["HomeComponent","constructor","http","_router","createdRow","row","data","editButton","querySelector","deleteButton","addEventListener","id","getAttribute","navigate","window","location","href","ngOnInit","fetchData","dtOptions","processing","serverSide","paging","searching","ordering","ajax","dataTablesParameters","callback","post","subscribe","Response","recordsTotal","recordsFiltered","columns","title","visible","render","columnDefs","targets","orderable","searchable","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\Ali Hamza\\source\\repos\\ClassLibrary2\\Web Api\\ClientApp\\src\\app\\pages\\home\\home.component.ts","C:\\Users\\Ali Hamza\\source\\repos\\ClassLibrary2\\Web Api\\ClientApp\\src\\app\\pages\\home\\home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  constructor(private http: HttpClient, private _router: Router) {}\r\n  dtOptions: DataTables.Settings = { createdRow: (row: Node, data: any) => {\r\n    const editButton = (row as HTMLElement).querySelector('.edit-button');\r\n    const deleteButton = (row as HTMLElement).querySelector('.delete-button');\r\n\r\n    if (editButton) {\r\n      editButton.addEventListener('click', () => {\r\n        const id = editButton.getAttribute('data-id');\r\n        // Handle edit logic here, e.g., navigate to edit route\r\n        this._router.navigate(['/pages/edit', id]);\r\n      });\r\n    }\r\n  \r\n    if (deleteButton) {\r\n      deleteButton.addEventListener('click', () => {\r\n        const id = deleteButton.getAttribute('data-id');\r\n        // Handle delete logic here, e.g., navigate to delete route\r\n        window.location.href = '/pages/delete/' + id;\r\n      });\r\n    }\r\n  }\r\n};\r\n  ngOnInit(): void {\r\n    this.fetchData();\r\n  }\r\n  fetchData() {\r\n    this.dtOptions = {\r\n      processing: true,\r\n      serverSide: true,\r\n      paging: true,\r\n      searching: true,\r\n      ordering: true,\r\n      ajax: (dataTablesParameters: any, callback) => {\r\n        this.http\r\n          .post(\r\n            'https://localhost:7149/api/Employee/all-Employees',\r\n            dataTablesParameters\r\n          )\r\n          .subscribe((Response: any) => {\r\n            callback({\r\n              recordsTotal: Response.recordsTotal,\r\n              recordsFiltered: Response.recordsFiltered,\r\n              data: Response.data,\r\n            });\r\n          });\r\n      },\r\n      columns: [\r\n        { title: 'Id', data: 'id', visible: false },\r\n        { title: 'Name', data: 'name' },\r\n        { title: 'DepId', data: 'depId', visible: false },\r\n        { title: 'Cnic', data: 'cnic' },\r\n        { title: 'Age', data: 'age' },\r\n        { title: 'Salary', data: 'salary' },\r\n        {\r\n          data: null,\r\n          render: function (data: any) {\r\n            return `\r\n            <a class=\"btn btn-info edit-button\" data-id=\"${data.id}\">Edit</a>\r\n            <a class=\"btn btn-danger delete-button\" data-id=\"${data.id}\">Delete</a>\r\n          `;\r\n          },\r\n        },\r\n      ],\r\n      columnDefs: [\r\n        {\r\n          targets: [1],\r\n          orderable: true,\r\n          searchable: true,\r\n        },\r\n        {\r\n          targets: '_all',\r\n          orderable: false,\r\n          searchable: false,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n}\r\n","<button class=\"btn btn-primary\"  [routerLink]=\"['/pages/add']\">Add Employee</button>\r\n<br>\r\n<br>\r\n\r\n<table id=\"myTable\" datatable [dtOptions]=\"dtOptions\"  class=\"table  table-bordered\">\r\n    <thead>\r\n      <tr>\r\n        <th>ID</th>\r\n        <th>Name</th>\r\n        <th>DepId</th>\r\n        <th>Cnic</th>\r\n        <th>Age</th>\r\n        <th>Salary</th>\r\n        <th>Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n     \r\n    </tbody>\r\n  </table>\r\n\r\n\r\n  \r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}