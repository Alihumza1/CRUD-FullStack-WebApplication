<div class="container">
  <div class="mx-auto border p-3 bg-light shadow-lg" style="width: 400px">
    <h2><b>Create</b></h2>
    <form [formGroup]="addEmployee" (ngSubmit)="Submit()">
      <div class="mb-3">
        <label class="form-label" for="name">Name:</label>
        <input
          type="text"
          class="form-control"
          id="name"
          placeholder="Enter your Name"
          formControlName="name"
          required
        />
        <div
          class="form-text text-danger"
          *ngIf="
            (name.touched || name.dirty) &&
            (name.errors?.required || name.errors?.pattern)
          "
        >
          Name is required and should only contain alphabets.
        </div>
        <div
          class="form-text text-danger"
          *ngIf="name.errors?.['minlength'] || name.errors?.['maxlength'] && (name.dirty || name.touched       )"
        >
          Name should be 1 and as long as 14 characters long
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="manager">Manager:</label>
        <select
          class="form-control"
          id="manager"
          formControlName="manager"
          required
        >
          <option value="">Select Manager</option>
          <option *ngFor="let employee of employees" [value]="employee.name">
            {{ employee.name }}
          </option>
        </select>
        <div
          class="form-text text-danger"
          *ngIf="manager.errors?.required && (manager.dirty || manager.touched)"
        >
          Manager is required
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="depid">Department:</label>
        <select
          class="form-control"
          id="depid"
          formControlName="depid"
          required
        >
          <option value="">Select Department</option>
          <option
            *ngFor="let department of departments"
            [value]="department.depid"
          >
            {{ department.name }}
          </option>
        </select>
        <div
          class="form-text text-danger"
          *ngIf="depid.errors?.required && (depid.dirty || depid.touched)"
        >
          Department is required
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="cnic">Cnic:</label>
        <input
          type="text"
          class="form-control"
          id="cnic"
          placeholder="Enter your cnic number"
          formControlName="cnic"
          required
        />
        <div
          class="form-text text-danger"
          *ngIf="
            (cnic.touched || cnic.dirty) &&
            (cnic.errors?.required || cnic.errors?.pattern)
          "
        >
          Cnic number is required
        </div>
        <div
          class="form-text text-danger"
          *ngIf="cnic.errors?.['minlength'] || cnic.errors?.['maxlength'] && (cnic.dirty || cnic.touched)"
        >
          Cnic should be 13 numbers long (without dashes)
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="age">Age:</label>
        <input
          class="form-control"
          id="age"
          placeholder="Enter your Age"
          formControlName="age"
          required
        />
        <div
          class="form-text text-danger"
          *ngIf="
            (age.touched || age.dirty) &&
            (age.errors?.required || age.errors?.pattern)
          "
        >
          Age is required
        </div>
        <div
          class="form-text text-danger"
          *ngIf="age.errors?.['min'] || age.errors?.['max'] && (age.dirty || age.touched)"
        >
          Age should be atleast 18 to 59
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label" for="salary">Salary:</label>
        <input
          class="form-control"
          id="salary"
          placeholder="Enter your Salary"
          formControlName="salary"
          required
        />
        <div
          class="form-text text-danger"
          *ngIf="
            (salary.touched || salary.dirty) &&
            (salary.errors?.required || salary.errors?.pattern)
          "
        >
          Salary is required
        </div>
        <div
          class="form-text text-danger"
          *ngIf="salary.errors?.['min'] || salary.errors?.['max'] && (salary.dirty || salary.touched)"
        >
          Salary should be 10000 to 100000
        </div>
      </div>
      <br />
      <div class="btn-group d-flex justify-content-center">
        <button
          type="submit"
          [disabled]="addEmployee.invalid"
          class="btn btn-success"
        >
          Submit
        </button>
        &nbsp; &nbsp;
        <button class="btn btn-primary" [routerLink]="['/pages/home']">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
